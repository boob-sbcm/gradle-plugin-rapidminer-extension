apply plugin: 'groovy'
apply plugin: 'rapidminer-publish'

buildscript {
	dependencies {
		classpath 'com.rapidminer.gradle:publish:0.1.1'
	}
}

sourceCompatibility = 1.7
targetCompatibility = 1.7

// define publish repositories and publications to upload
uploadConfig {
	releaseRepo 'libs-release-local'
	snapshotRepo 'libs-snapshot-local'
	contextUrl "${artifactory_contextUrl}"
	publication 'gradlePlugin'
}

// define Maven publication
publishing {
	publications {
		gradlePlugin(MavenPublication) {
			from components.java
			artifactId "extension"
		}
	}
}

dependencies {
	compile gradleApi()
	compile localGroovy()
	compile 'com.rapidminer.gradle:java-basics:0.2.0'
	
	// Add shadowJar Gradle plugin which is used to create a shaded extension jar 
	// that contains all it's dependencies (https://github.com/johnrengelman/shadow)
	compile 'com.github.jengelman.gradle.plugins:shadow:1.0.2'
}